<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>
Waveform Generator
</title>
<link rel="stylesheet" href="style.css" type="text/css" media="all" /> 
</head>
<body>
<h1><a name="wavegen.wavegen" id="wavegen.wavegen"></a>Waveform Generator
</h1>
<p>The Arbitrary Waveform Generator (or Wavegen) generates electronic waveforms. The waveforms can be either repetitive or single-shot. Different triggering sources can be used: internal (from other devices) or external.</p>
<p>The resulting waveforms can be input into a device being tested and analyzed with the Oscilloscope as they progress through the device. This is useful for confirming the proper operation of the device or pinpointing a fault in the device.</p>

<p>The main window has three areas: the control toolbar at the top, the configuration form(s) on the left side, and the signal preview plot(s) on the right side. </p>
<p><img src="images/wavegen.png"></p>
<p>&nbsp;</p>


<h2><a name="wavegen.menu" id="wavegen.menu"></a>1. Menu</h2>
<p>See <a href="main.html#main.menus">Menu</a> in Common Interfaces.</p>
<h3><a name="wavegen.menu.view" id="wavegen.menu.view"></a>1.1. Edit</h3>
<p>The Edit menu lets you copy or swap the channels configurations.</p>
<p>&nbsp;</p>

<h2><a name="wavegen.control" id="wavegen.control"></a>2. Control</h2>
<p><b>Run All / Stop All button:</b> starts or stops the selected signal generators. </p>
<p><b>Channels:</b> selects the channel(s) to be controlled. For every channel you select, a configuration form and a signal preview plot are displayed.</p>
<ul>
<li><b>Channel 1</b> is Waveform Generator channel 1.</li>
<li><b>Channel 2</b> is Waveform Generator channel 2.</li>
<li><b>Channel 3*</b> is the Positive Power Supply (VP+).</li>
<li><b>Channel 4*</b> is the Negative Power Supply (VP-).</li>
</ul>
<p><sub>* Available with Electronics Explorer board and Analog Discovery 3, Analog Discovery 2 after selecting 6th configuration under Settings/ Device Manager.</sub></p>
<p>With DPS3340 the channels control the supply outputs in voltage or current limitation mode.</p>
<p><a name="wavegen.sync" id="wavegen.sync"></a><b>Synchronization Mode:</b></p>
<ul>
<li>In <b>No synchronization</b> mode, no synchronization parameters are available. </li>
<li>In <b>Independent</b> mode, the channels are working independently. The trigger-wait-run-repeat settings can be independently configured for each channel. If you modify the settings of a channel, its signal generation starts over from the beginning and synchronization with the other channels is lost. </li>
<li>In <b>Synchronized</b> mode, the trigger-wait-run-repeat settings are the same for all selected channels within the same instrument instance. Modifying the settings of one of the channels causes both to be restarted. A run time value other than continuous should be used to periodically resynchronize the channels. This has to be done because the actual frequencies might be approximates of the desired values and small errors accumulate until, after several cycles, the channel's phase will slide. </li>
</ul>
<p>&nbsp;</p>

<h2><a name="wavegen.preview" id="wavegen.preview"></a>3. Preview</h2>
<p>For every channel you select, a signal preview plot is displayed.</p>
<p>The plot options menu on the top-right edge (next to the common <a href="main.html#main.plots">plot</a> options) contains controls to scale the plot waveforms. Having the Scale option in Full mode allows manual adjustment of time. The vertical scaling in Manual mode can be adjusted as well.</p>
<p>A horizontal left-button mouse drag on the plot changes the start position, and a right-button mouse drag changes the horizontal domain of the preview. A vertical left-button mouse drag on the left/right side changes the modulator/voltage position, and a right-button mouse drag changes the vertical range of the preview.</p>
<p>The actual output might differ from the preview depending on external load, especially at high frequencies.</p>
<br>
<h2><a name="wavegen.channel" id="wavegen.channel"></a>4. Channel</h2>
<p><b>Run/Stop button:</b> starts/stops the signal generation for the selected channel. The waveform generator channel can be started individually.</p>
<p><b>Enable button:</b> enables or disables the output.</p>
<p>See <a href="#wavegen.simple">Simple</a>, <a href="#wavegen.basic">Basic</a>, <a href="#wavegen.play">Play</a>, <a href="#wavegen.sweep">Sweep</a> and <a href="#wavegen.modulation">Modulation</a> configuration modes.</p>
<a name="wavegen.idle"></a><b>Idle output</b>: selects the output while not running 
(Waiting, Ready, Stopped, or Done states). 
<ul>
<li><b>Initial:</b> The idle output voltage level has the initial waveform value of the current configuration. This depends on the selected signal type, Offset, Amplitude, and Amplitude Modulator configuration.</li>
<li><b>Offset:</b> The idle output is the configured Offset level.</li>
<li><b>Disabled *:</b> The idle output is disabled. Channel 1 and 2, outputs 0 Volts. Channel 3 (Positive Power Supply) and Channel 4 (Negative Power Supply), having 1 kOhm resistor to GND and diode.</li>
</ul>
<p><b>Supply*:</b> Selects between voltage and current waveform generator.</p>
<p><b>Limitation*:</b> Specifies the current or voltage limitation.</p>
<p><b>Amplification:</b> Specifies the external amplification of the signal. The voltage and offset levels will be adjusted taking in consideration this.</p>
<p><b>Units:</b> Selects amplitude units between: Peak, Peak to Peak, RMS Volts, dB&#x1E7C; (reference to 1&#x1E7C; sine wave, 20*Log<sub>10</sub>(&#x1E7C;)), dBu (reference to 0.775&#x1E7C; sqrt(1.2) sine wave, 20*Log<sub>10</sub>(&#x1E7C;/0.775)), dBm (reference to 0.224&#x1E7C; sqrt(0.1) sine wave, relative to 1mW on 50&#8486; load).</p>
<sub>* Available with Electronics Explorer, DPS3340</sub>

<p><img src="images/wavegen.channel.options.png"></p>
<p>&nbsp;</p>
<h2><a name="wavegen.tab" id="wavegen.tab"></a>5. Configuration Modes </h2>
<p>For every channel you select, a configuration mode will be displayed. The custom and play waveforms are shared between the channels and configuration modes.</p>

<br>

<h3><a name="wavegen.simple" id="wavegen.simple"></a>5.1. Simple</h3>
<p>The Simple configuration mode for a simple standard signal configuration.</p>
<p>
<img src="images/wavegen.simple.png"></p>
<p>
<b><a name="wavegen.type" id="wavegen.type"></a>Type:</b> represents the standard signal types: DC, Sine, Square, Triangle, Ramp-Up, Ramp-Down, Noise, Trapezium, and Sine-Power. Under the options menu, <a href="#wavegen.custom">custom</a> waveforms can be created and files imported as pattern or <a href="#wavegen.play">play</a> data.<br>
For ADP3X50, EclypseZ7 and newer devices the Oscilloscope inputs (raw ADC, averaged or filtered samples) can be used as source signal, amplitude or frequency modulation. These can be configured in the Scope interface. The Filter channels are exposed by the green arrow under the last real channel.</p>
<p>For the Noise signal, the Frequency represents the DAC update rate, and the Symmetry and Phase parameters are disabled.</p>
<p>The Sine-Power signal is a sine signal where the power attribute is 0. For higher power attributes, the waveform tends to have a square shape. The function for the power attribute is the following: <br>if (power &gt; 0) = <b>Sin(x) <sup>( 100 / (100-power) )</sup></b><br>if (power &lt; 0) = <b>Sin(x) <sup>( (100+power) / 100 )</sup></b> </p>
<p>
<b>Frequency</b>, <b>Period</b>, <b>Amplitude</b>, <b>Offset</b>, <b>Symmetry</b>, and <b>Phase</b> allow you to modify signal parameters.
</p>
<p>
<b>Trigger</b>, <b>Wait</b>, <b>Run</b>, and <b>Repeat</b> settings let you generate burst signals. See <a href="#wavegen.states">States</a> for more information.
</p>
<p>&nbsp;</p>

<h3><a name="wavegen.basic" id="wavegen.basic"></a>5.2. Basic</h3>
<p>The Basic configuration mode for standard signal configuration.</p>
<p>
<img src="images/wavegen.basic.png"></p>
<p><b>Signal icons</b> represent the standard signal <a href="#wavegen.type">type</a>.</p>
<p>
<b>Frequency</b>, <b>Period</b>, <b>Amplitude</b>, <b>Offset</b>, <b>Symmetry</b>, and <b>Phase sliders</b> let you easily modify signal values between the maximum and minimum limits. These limits can be adjusted using the combo boxes at the top and bottom of the sliders.
</p>
<p>
<b>Trigger</b>, <b>Wait</b>, <b>Run</b>, and <b>Repeat</b> settings let you generate burst signals. See <a href="#wavegen.states">States</a> for more information.
</p>
<p>&nbsp;</p>

<h3><a name="wavegen.custom" id="wavegen.custom"></a>5.3. Custom </h3>
<p><img src="images/wavegen.custom.png"></p>
<p><b>New</b> button lets you create and edit a new custom waveform. See <a href="#wavegen.editor">Editor</a><a href="#wavegen.editor"></a> for more information.</p>
<p><b>Import</b> button lets you load a waveform from file. See <a href="#wavegen.import">Import file</a> for more information.</p>
<p><b>Edit</b> button lets you edit the currently selected signal.</p>
<p><b>Remove/Clear</b> buttons lets you remove the selected or all items.</p>
<p><b>Frequency</b>, <b>Sample Rate</b>, <b>Amplitude</b>, <b>Offset</b>, and <b>Phase</b> let you modify the signal parameters.</p>
<p>The <b>Signal</b> option lets you select between Waveform and Pattern for Custom and Play. The Waveform is intended for analog waveforms for precise signal frequency and the Pattern is for pulse patterns providing stable sample rate.<br>
<sub>*With Analog Discovery 1 and 2 the stable rate requires power of two number of samples up to the device buffer size, 4096 with the first configuration.</sub></p>
<p><b>Trigger</b>, <b>Wait</b>, <b>Run</b>, and <b>Repeat</b> settings let you generate burst signals. See <a href="#wavegen.states">States</a> for more information.
</p>
<p>&nbsp;</p>

<h3><a name="wavegen.play" id="wavegen.play"></a>5.4. Play </h3>
<p>The play mode lets you generate a large number of samples at a lower rate, depending on the system, up to 1 Msps. If the device buffer is emptied, the player will lose samples. If this problem occurs, stop other instruments or quit applications that burden the computer or reduce the player frequency.</p>
<p><img src="images/wavegen.play.png"></p>
<p><b>Import</b> button lets you import a large number of samples (100M on 64bit and 10M on 32bit system) from data files to play. See <a href="#wavegen.import">Import file</a> for more information.</p>
<p><b>Remove</b> button lets you remove the selected or all items.</p>
<p><strong>Frequency</strong>, <strong>Amplitude</strong>, and <strong>Offset </strong> let you modify signal parameters. </p>
<p>The <b>Signal</b> option lets you select between Waveform and Pattern. The Waveform is intended for analog waveforms for precise signal frequency and the Pattern is for pulse patterns providing stable sample rate.</p>

<p>When the PC or the USB is busy, the playback might be jumpy. In this case, try stopping the other 
running instruments or reduce the playback frequency.</p>
<p>The player can also be used in Modulation mode for carrier, amplitude, or frequency modulation.</p>

<p>&nbsp;</p>

<h3><a name="wavegen.sweep" id="wavegen.sweep"></a>5.5. Sweep</h3>
<p>Select Sweep configuration mode for easy setup of sweep and damp signals. </p>
<p><img src="images/wavegen.sweep.png"></p>
<p>The <b>Sweep</b> and <b>Damp</b> checkboxes enable or disable these modes.</p>
<p>In <b>sweep</b> mode, the signal frequency changes linearly from the first value to the second in the specified time.</p>
<p>In <b>damp</b> mode, the signal amplitude changes linearly from the first level to the second in the specified time.</p>
<p><b>Type</b> can be a standard or custom. Using the options menu after the signal type, custom signals can be <a href="#wavegen.editor">generated</a> or <a href="#wavegen.import">imported</a> from a file. These are added to the type list.</p>
<p><b>Frequency</b>, <b>Amplitude</b>, <b>Offset</b>, <b>Symmetry</b>, and <b>Phase</b> let you modify signal parameters.</p>
<p><b>Trigger</b>, <b>Wait</b>, <b>Run</b>, and <b>Repeat</b> settings let you generate burst signals. See <a href="#wavegen.states">States</a> for more information.</p>
<p>&nbsp;</p>

<h3><a name="wavegen.modulation" id="wavegen.modulation"></a>5.6. Modulation</h3>
<p>Select the Modulation configuration mode for setting complex configurations.</p>
<p><img src="images/wavegen.modulation.png"></p> 
<p><b>Trigger</b>, <b>Wait</b>, <b>Run</b>, and <b>Repeat</b> settings let you generate burst signals. See <a href="#wavegen.states">States</a> for more information.</p>

<p><b>Carrier</b>, <b>FM/PM</b> and <b>AM/SUM</b> are configured in separate columns. </p>
<p><b>Type</b> can be a standard or custom. Using the options menu after the signal type, custom signals can be <a href="#wavegen.editor">generated</a> or <a href="#wavegen.import">imported</a> from a file. These are added to the type list.</p>

<p>Configurations consist of:
<ul>
<li><b><a href="#wavegen.type">Type:</a></b> type of signals includes standard types or custom signals that you define or load.<br>
<sub>With Electronics Explorer board for each channel only one of AM and FM can be custom signal type at a time.</sub></li>
<li><b>Frequency:</b> adjusts the generated waveform frequency. For the noise signals, this represents the DAC update rate.</li>
<li><b>Period:</b> adjusts the generated waveform period, 1/Frequency.</li>
<li><b>Amplitude:</b> shows the amplitude for the Carrier signal.</li>
<li><b>Index:</b> expresses the modulation index for FM/PM and AM/SUM as a percentage.</li>
<li><b>Offset:</b> for carrier, adjust the offset in volt units. The modulation offset is expressed as a percentage for modulators.</li>
<li><b>Symmetry:</b> is expressed as a percentage.</li>
<li><b>Phase:</b> is expressed in degrees.</li>
</ul>
</p>
<p>For FM and AM (Frequency and Amplitude Modulations) the limits for Index + Offset are &plusmn;200%.<p>
<p>The PM, PMD, SUM and SUMV options are available with ADP3X50, Eclyspe Z7, Analog Discovery 3.<br>
For PM (Phase Modulation) or PMD (expressed in degrees) the limits are &plusmn;100% or &plusmn;180&deg;.<br>
For SUM or SUMV (expressed in Volts) the limits are &plusmn;400% or in Volts the Offset&plusmn;Amplitude can be up to four times the Carrier Amplitude.</p>
<p>&nbsp;</p>

<h2><a name="wavegen.states" id="wavegen.states"></a>
6. States</h2>

<p>See <a href="main.html#main.states.gen">Generator States</a> and <a href="#wavegen.idle">Idle output</a> for more information.</p>

<p>Using the (Trigger), Wait, Run, and Repeat settings, burst signals can be generated.</p>
<ul>
<li><b>Trigger</b>: specifies the trigger event for the waveform generator channel.
<li><b>Edge</b>: selects between rising, falling or either edge for external and internal trigger signals.</li>
<li><b>Wait</b>: specifies how much time to wait before starting the signal generation.
<li><b>Run</b>: specifies for how long signal generation occurs. The Continuous option causes the signal generator to run continuously.
<li><b>Auto</b>: when checked the run time is automatically adjusted to the longest period from: signal frequency, sweep/damp time, or AM/FM modulator frequency.</li>
<li><b>Repeat</b>: specifies how many times the (trigger)-wait-run cycle will be repeated. The Infinite option is similar to the Continuous option.</li>
<li><b>Repeat Trigger</b>: selects if the repeat cycle will include the Trigger in Wait-Run cycle or not.</li>
</ul>
<p>The following screenshot shows a burst signal. </p>
<p><img src="images/wavegen.burst.png"></p>
<p>&nbsp;</p>

<h2><a name="wavegen.editor" id="wavegen.editor"></a>7. Editor</h2>
<p>The Editor lets you easily create arbitrary signal shapes, as well as custom carrier signals and modulators.</p>
<p>To launch the Custom editor from any configuration form, select the New signal option or select Edit for an existing custom signal.</p>
<ul>
<li><b>Name:</b> lets you specify or modify the custom waveform name.</li>
<li><b>Normalize</b> on the top of the plot will normalize the values between -1 and +1, -100% and +100%.</li>
<li><b>Undo / Redo</b> lets you undo/redo the last changes.</li>
<li><b>Export</b> lets you export the custom waveform to file.</li>
<li><b>Sample</b> can be edited in the data tab on the right side.</li>
<li><b>Normalize:</b> when checked, the data will be normalized automatically after Generate.</li>
<li><b>Generate:</b> will generate the given function.</li>
<li><b>OK/Save:</b> stores the changes and closes the Editor.</li>
<li><b>Save as New</b>: stores the waveform as a new entry and keeps the original waveform.</li>
<li><b>Cancel:</b> closes the Editor without saving any changes.</li>
</ul>
<p><img src="images/wavegen.editor.png"></p>
<p><b>Function</b> generation has the following parameters:</p>
<ul>
<li><b>Start</b> point of the selected waveform is expressed as a percentage.</li>
<li><b>Length</b> of the generated function is expressed as a percentage.</li>
<li><b>Type</b> of signal can be: constant, sine, rectangle, triangle, ramp-up, ramp-down, exponential rise or decay, Gaussian, or noise.</li>
<li><b>Cycles</b> is the number of waveforms to generate.</li>
<li><b>Amplitude</b> is expressed as a percentage.</li>
<li><b>Offset</b>  is expressed as a percentage.</li>
<li><b>Symmetry</b> is expressed as a percentage.</li>
<li><b>Phase</b> is expressed in degrees.</li>
</ul>
<p><img src="images/wavegen.editor.math.png"></p>
<p><b>Math</b> lets you generate signals from mathematical functions.</p>
<ul>
<li><b>Samples:</b> lets you specify the number of samples. It is useful to create a waveform with a few samples, like steps. The custom waveform will be stretched to fill the available device buffer.</li>
<li><b>device:</b> shows the device waveform buffer size.</li>
<li><b>X from</b> and <b>to:</b> lets you specify the X variable value range used in mathematical function.</li>
<li><b>Enter Function:</b> You can type the custom function in this text box. If the entered function is valid, the resulting number for one sample is displayed, otherwise the error description is listed.<br>See <a href="main.html#main.script">Script</a> in Common interfaces. The local variable is X for which the function is called to generate each data sample.</li>
</ul>
<p>Example functions:
<ul>
<li><b>sin(2*PI*X)+cos(4*PI*X)</b> </li>
<li><b>random()*2-1</b> </li>
</ul>
</p>

<p><img src="images/wavegen.editor.values.png"></p>
<p><b>Values</b> can be edited in the data tab on the right side. Copy, paste, and multiple editing is supported.</p>

<p><b>File</b> tab lets you import data from a file and place it in the buffer at a specified starting position and for a specified length. See <a href="#wavegen.import"><em>Import File</em></a>.</p>


<p><img src="images/wavegen.editor.alter.png"></p>
<p><b>Alter</b> tab lets you add, subtract, multiply, or divide the current waveform with another one, like adding noise, tone, or damping by multiplication.</p>

<p>&nbsp;</p>


<h2><a name="wavegen.import" id="wavegen.import"></a>8. Import</h2>
<p>To import a data file, select Import and then select File.</p>
<p><img src="images/wavegen.import.png"></p>
<p><b>Browse</b> button opens a dialog box where you can select a different file to load. The supported files are CSV (comma separated values), TXT (tab delimited values), and audio files. These are WAV (Waveform Audio) and other audio/video formats supported by the operating system like: MP3, WMA, AVI.</p>
<p>In case the import does not detect the text file coding properly, adjust the options in Format group to specify the:
<ul>
<li><b>Skip heading:</b> lines that do not import to data, usually comments or information.</li>
<li><b>List separator</b></li>
<li><b>Column header:</b> check to use a row as column names.</li>
<li><b>Column count:</b> specifies the number of data columns in the file.</li>
<li><b>Row count:</b> specifies the number of data row in the file.</li>
</ul></p>
The import group contains the following parameters:
<ul>
<li><b>Column:</b> If the file contains several columns of data, select the one to use.</li>
<li><b>First/Count:</b> Specifies the first and the number of sample index to import.</li>
<li><b>Offset/Amplitude:</b> Specifies the waveform scale. In case this range is supported by the device, it will be applied when selecting this waveform.</li>
<li><b>Sample rate/Frequency:</b> Specifies the rate of the waveform.</li>
</ul></p>
<p>Values area</p>
<b>Plot area </b>shows the selected data range. <br><br><br><br><br><br><br><br><br><br>
</body>
</html>
